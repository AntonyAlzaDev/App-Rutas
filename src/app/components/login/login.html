<div class="login-container" >
    <h2> Iniciar Sesión</h2>

    <div *ngIf="mensajeExito" class="alert alert-success" >
        {{mensajeExito}}
    </div>

    <div *ngIf="mensajeError" class="alert alert-error" >
        {{mensajeError}}
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" >
        <div class="form-group">
            <label for="email">Email:</label>
            <input 
                type="email"
                id="email"
                formControlName="email"
                placeholder="Ingrese su email"
                [class.invalid]="isFildInvalid('email')"
            >
            <div *ngIf="isFildInvalid('email')" class="error-messages">
                <span *ngIf="hasError('email','required')">El email es obligatorio.</span>
                <span *ngIf="hasError('email','email')">Formato de email inválido.</span>
            </div>
        </div>

        <div class="form-group">
            <label for="password">Constraseña:</label>
            <input 
                type="password"
                id="password"
                formControlName="password"
                placeholder="Ingrese su contraseña"
                [class.invalid]="isFildInvalid('password')"
            >
            <div *ngIf="isFildInvalid('password')" class="error-messages">
                <span *ngIf="hasError('password','required')" class="error">La contraseña es obligatoria.</span>
                <span *ngIf="hasError('password','minlength')" class="error">La contraseña debe de tener mínimo 6 caracteres.</span>
            </div>
        </div>

        <button
            type="submit"
            [disabled]="loginForm.invalid || flg_enviando"
            class="btn-submit"
        >
        {{ flg_enviando ? 'Iniciando Sesión....' : 'Iniciar sesión' }}

        </button>


    </form>

    
</div>